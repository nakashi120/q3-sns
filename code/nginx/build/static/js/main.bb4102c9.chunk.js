(this.webpackJsonpreact_web_front=this.webpackJsonpreact_web_front||[]).push([[0],{123:function(e,t,n){e.exports={app:"App_app__1kX79"}},145:function(e,t,n){},21:function(e,t,n){e.exports={post:"Post_post__1-uEC",post_header:"Post_post_header__38Oy0",post_avatar:"Post_post_avatar__334I0",post_image:"Post_post_image__x9cFE",post_text:"Post_post_text__cA3ML",post_checkBox:"Post_post_checkBox__z3Pg8",post_avatarGroup:"Post_post_avatarGroup__3w2Uj",post_comments:"Post_post_comments__LRl-T",post_comment:"Post_post_comment__1f1Ef",post_commentBox:"Post_post_commentBox__1Gykt",post_input:"Post_post_input__1EAqP",post_button:"Post_post_button__3Zy9l",post_strong:"Post_post_strong__SBUVA"}},23:function(e,t,n){e.exports={core_title:"Core_core_title__3Fgeq",core_signUp:"Core_core_signUp__3AQKY",core_text:"Core_core_text__1p9Cy",core_header:"Core_core_header__2o3ti",core_btnModal:"Core_core_btnModal__3Z0dS",core_logout:"Core_core_logout__3tLwx",core_posts:"Core_core_posts__2xCPu",core_progress:"Core_core_progress__29G_y"}},24:function(e,t,n){e.exports={auth_title:"Auth_auth_title__3IiVY",auth_error:"Auth_auth_error__35GYZ",auth_signUp:"Auth_auth_signUp__23bGX",auth_headerImage:"Auth_auth_headerImage__kIVLc",auth_text:"Auth_auth_text__1NS5E",auth_progress:"Auth_auth_progress__2Lo8w"}},276:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),s=(n(145),n(123)),i=n.n(s),u=n(6),l=n.n(u),p=n(10),d=n(12),j=n(24),f=n.n(j),b=n(39),h=n.n(b),m=n(85),x=n(47),O=n(309),_=n(322),g=n(313),v=n(18),w=n(28),k=n(16),y=n(20),N=n.n(y),C="".concat("http://cqe-sns/","api/post/"),S="".concat("http://cqe-sns/","api/comment/"),P=Object(k.b)("post/get",Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(C,{headers:{Authorization:"JWT ".concat(localStorage.localJWT)}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),A=Object(k.b)("post/post",function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("title",t.title),t.img&&n.append("img",t.img,t.img.name),e.next=5,N.a.post(C,n,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.localJWT)}});case 5:return a=e.sent,e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T=Object(k.b)("post/patch",function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a,r,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.current,a=new FormData,r=!1,n.forEach((function(e){e===t.new?r=!0:a.append("liked",String(e))})),r){e.next=8;break}a.append("liked",String(t.new)),e.next=14;break;case 8:if(1!==n.length){e.next=14;break}return a.append("title",t.title),e.next=12,N.a.put("".concat(C).concat(t.id,"/"),a,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.localJWT)}});case 12:return c=e.sent,e.abrupt("return",c.data);case 14:return e.next=16,N.a.patch("".concat(C).concat(t.id,"/"),a,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.localJWT)}});case 16:return o=e.sent,e.abrupt("return",o.data);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=Object(k.b)("comment/get",Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get(S,{headers:{Authorization:"JWT ".concat(localStorage.localJWT)}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),J=Object(k.b)("comment/post",function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post(S,t,{headers:{Authorization:"JWT ".concat(localStorage.localJWT)}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),W=Object(k.c)({name:"post",initialState:{isLoadingPost:!1,openNewPost:!1,posts:[{id:0,title:"",userPost:0,created_on:"",img:"",liked:[0]}],comments:[{id:0,text:"",userComment:0,post:0}]},reducers:{fetchPostStart:function(e){e.isLoadingPost=!0},fetchPostEnd:function(e){e.isLoadingPost=!1},setOpenNewPost:function(e){e.openNewPost=!0},resetOpenNewPost:function(e){e.openNewPost=!1}},extraReducers:function(e){e.addCase(P.fulfilled,(function(e,t){return Object(w.a)(Object(w.a)({},e),{},{posts:t.payload})})),e.addCase(A.fulfilled,(function(e,t){return Object(w.a)(Object(w.a)({},e),{},{posts:[].concat(Object(v.a)(e.posts),[t.payload])})})),e.addCase(I.fulfilled,(function(e,t){return Object(w.a)(Object(w.a)({},e),{},{comments:t.payload})})),e.addCase(J.fulfilled,(function(e,t){return Object(w.a)(Object(w.a)({},e),{},{comments:[].concat(Object(v.a)(e.comments),[t.payload])})})),e.addCase(T.fulfilled,(function(e,t){return Object(w.a)(Object(w.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.payload.id?t.payload:e}))})}))}}),U=W.actions,B=U.fetchPostStart,E=U.fetchPostEnd,L=U.setOpenNewPost,q=U.resetOpenNewPost,z=function(e){return e.post.isLoadingPost},R=function(e){return e.post.openNewPost},F=function(e){return e.post.posts},G=function(e){return e.post.comments},M=W.reducer,V="http://cqe-sns/",D=Object(k.b)("auth/post",function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat(V,"authen/jwt/create"),t,{headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,console.log("fetchAsyncLogin: ".concat(n.data)),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Q=Object(k.b)("auth/register",function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat(V,"api/register/"),t,{headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,console.log("fetchAsyncRegister: ".concat(n.data)),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Y=Object(k.b)("profile/post",function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat(V,"api/profile/"),t,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.localJWT)}});case 2:return n=e.sent,console.log("fetchAsyncCreateProf: ".concat(n.data)),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Z=Object(k.b)("profile/put",function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("nickName",t.nickName),t.img&&n.append("img",t.img,t.img.name),e.next=5,N.a.put("".concat(V,"api/profile/").concat(t.id,"/"),n,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.localJWT)}});case 5:return a=e.sent,console.log("fetchAsyncUpdateProf: ".concat(a.data)),e.abrupt("return",a.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),X=Object(k.b)("profile/get",Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(V,"api/myprofile/"),{headers:{Authorization:"JWT ".concat(localStorage.localJWT)}});case 2:return t=e.sent,console.log("etchAsyncGetMyProf: ".concat(t.data[0])),e.abrupt("return",t.data[0]);case 5:case"end":return e.stop()}}),e)})))),$=Object(k.b)("profiles/get",Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat(V,"api/profile/"),{headers:{Authorization:"JWT ".concat(localStorage.localJWT)}});case 2:return t=e.sent,console.log("fetchAsyncGetProfs: ".concat(t.data)),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})))),K=Object(k.c)({name:"auth",initialState:{openSignIn:!0,openSignUp:!1,openProfile:!1,isLoadingAuth:!1,myprofile:{id:0,nickName:"",userProfile:0,created_on:"",img:""},profiles:[{id:0,nickName:"",userProfile:0,created_on:"",img:""}]},reducers:{fetchCredStart:function(e){e.isLoadingAuth=!0},fetchCredEnd:function(e){e.isLoadingAuth=!1},setOpenSignIn:function(e){e.openSignIn=!0},resetOpenSignIn:function(e){e.openSignIn=!1},setOpenSignUp:function(e){e.openSignUp=!0},resetOpenSignUp:function(e){e.openSignUp=!1},setOpenProfile:function(e){e.openProfile=!0},resetOpenProfile:function(e){e.openProfile=!1},editNickname:function(e,t){e.myprofile.nickName=t.payload}},extraReducers:function(e){e.addCase(D.fulfilled,(function(e,t){localStorage.setItem("localJWT",t.payload.access)})),e.addCase(Y.fulfilled,(function(e,t){e.myprofile=t.payload})),e.addCase(X.fulfilled,(function(e,t){e.myprofile=t.payload})),e.addCase($.fulfilled,(function(e,t){e.profiles=t.payload})),e.addCase(Z.fulfilled,(function(e,t){e.myprofile=t.payload,e.profiles=e.profiles.map((function(e){return e.id===t.payload.id?t.payload:e}))}))}}),H=K.actions,ee=H.fetchCredStart,te=H.fetchCredEnd,ne=H.setOpenSignIn,ae=H.resetOpenSignIn,re=H.setOpenSignUp,ce=H.resetOpenSignUp,oe=H.setOpenProfile,se=H.resetOpenProfile,ie=H.editNickname,ue=function(e){return e.auth.isLoadingAuth},le=function(e){return e.auth.openSignIn},pe=function(e){return e.auth.openSignUp},de=function(e){return e.auth.openProfile},je=function(e){return e.auth.myprofile},fe=function(e){return e.auth.profiles},be=K.reducer,he=n(2),me={overlay:{backgroundColor:"#777777"},content:{top:"55%",left:"50%",width:280,height:350,padding:"50px",transform:"translate(-50%, -50%)"}},xe=function(){h.a.setAppElement("#root");var e=Object(d.c)(le),t=Object(d.c)(pe),n=Object(d.c)(ue),a=Object(d.b)();return Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)(h.a,{isOpen:t,onRequestClose:Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(ce());case 2:case"end":return e.stop()}}),e)}))),style:me,children:Object(he.jsx)(m.a,{initialErrors:{email:"required"},initialValues:{email:"",password:""},onSubmit:function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(ee());case 2:return e.next=4,a(Q(t));case 4:if(n=e.sent,!Q.fulfilled.match(n)){e.next=18;break}return e.next=8,a(D(t));case 8:return e.next=10,a(Y({nickName:"anonymous"}));case 10:return e.next=12,a($());case 12:return e.next=14,a(P());case 14:return e.next=16,a(I());case 16:return e.next=18,a(X());case 18:return e.next=20,a(te());case 20:return e.next=22,a(ce());case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validationSchema:x.a().shape({email:x.b().email("email format is wrong").required("email is must"),password:x.b().required("password is must").min(4)}),children:function(e){var t=e.handleSubmit,r=e.handleChange,c=e.handleBlur,o=e.values,s=e.errors,i=e.touched,u=e.isValid;return Object(he.jsx)("div",{children:Object(he.jsx)("form",{onSubmit:t,children:Object(he.jsxs)("div",{className:f.a.auth_signUp,children:[Object(he.jsx)("h1",{className:f.a.auth_title,children:"Q3 SNS"}),Object(he.jsx)("br",{}),Object(he.jsx)("div",{className:f.a.auth_progress,children:n&&Object(he.jsx)(O.a,{})}),Object(he.jsx)("br",{}),Object(he.jsx)(_.a,{placeholder:"email",type:"input",name:"email",onChange:r,onBlur:c,value:o.email}),Object(he.jsx)("br",{}),i.email&&s.email?Object(he.jsx)("div",{className:f.a.auth_error,children:s.email}):null,Object(he.jsx)(_.a,{placeholder:"password",type:"password",name:"password",onChange:r,onBlur:c,value:o.password}),i.password&&s.password?Object(he.jsx)("div",{className:f.a.auth_error,children:s.password}):null,Object(he.jsx)("br",{}),Object(he.jsx)("br",{}),Object(he.jsx)(g.a,{variant:"contained",color:"primary",disabled:!u,type:"submit",children:"Register"}),Object(he.jsx)("br",{}),Object(he.jsx)("br",{}),Object(he.jsx)("span",{className:f.a.auth_text,onClick:Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(ne());case 2:return e.next=4,a(ce());case 4:case"end":return e.stop()}}),e)}))),children:"You already have a account ?"})]})})})}})}),Object(he.jsx)(h.a,{isOpen:e,onRequestClose:Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(ae());case 2:case"end":return e.stop()}}),e)}))),style:me,children:Object(he.jsx)(m.a,{initialErrors:{email:"required"},initialValues:{email:"",password:""},onSubmit:function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(ee());case 2:return e.next=4,a(D(t));case 4:if(n=e.sent,!D.fulfilled.match(n)){e.next=14;break}return e.next=8,a($());case 8:return e.next=10,a(P());case 10:return e.next=12,a(I());case 12:return e.next=14,a(X());case 14:return e.next=16,a(te());case 16:return e.next=18,a(ae());case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validationSchema:x.a().shape({email:x.b().email("email format is wrong").required("email is must"),password:x.b().required("password is must").min(4)}),children:function(e){var t=e.handleSubmit,r=e.handleChange,c=e.handleBlur,o=e.values,s=e.errors,i=e.touched,u=e.isValid;return Object(he.jsx)("div",{children:Object(he.jsx)("form",{onSubmit:t,children:Object(he.jsxs)("div",{className:f.a.auth_signUp,children:[Object(he.jsx)("h1",{className:f.a.auth_title,children:"Q3 SNS"}),Object(he.jsx)("br",{}),Object(he.jsx)("div",{className:f.a.auth_progress,children:n&&Object(he.jsx)(O.a,{})}),Object(he.jsx)("br",{}),Object(he.jsx)(_.a,{placeholder:"email",type:"input",name:"email",onChange:r,onBlur:c,value:o.email}),i.email&&s.email?Object(he.jsx)("div",{className:f.a.auth_error,children:s.email}):null,Object(he.jsx)("br",{}),Object(he.jsx)(_.a,{placeholder:"password",type:"password",name:"password",onChange:r,onBlur:c,value:o.password}),i.password&&s.password?Object(he.jsx)("div",{className:f.a.auth_error,children:s.password}):null,Object(he.jsx)("br",{}),Object(he.jsx)("br",{}),Object(he.jsx)(g.a,{variant:"contained",color:"primary",disabled:!u,type:"submit",children:"Login"}),Object(he.jsx)("br",{}),Object(he.jsx)("br",{}),Object(he.jsx)("span",{className:f.a.auth_text,onClick:Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(ae());case 2:return e.next=4,a(re());case 4:case"end":return e.stop()}}),e)}))),children:"You don't have a account ?"})]})})})}})})]})},Oe=n(23),_e=n.n(Oe),ge=n(5),ve=n(320),we=n(278),ke=n(321),ye=n(51),Ne=n(26),Ce=n(21),Se=n.n(Ce),Pe=n(314),Ae=n(323),Te=n(319),Ie=n(316),Je=n(317),We=n(318),Ue=Object(Pe.a)((function(e){return{small:{width:e.spacing(3),height:e.spacing(3),marginRight:e.spacing(1)}}})),Be=function(e){var t,n,r,c=e.postId,o=e.loginId,s=e.userPost,i=e.title,u=e.imageUrl,j=e.liked,f=Ue(),b=Object(d.b)(),h=Object(d.c)(fe),m=Object(d.c)(G),x=Object(a.useState)(""),O=Object(Ne.a)(x,2),_=O[0],g=O[1],v=m.filter((function(e){return e.post===c})),w=h.filter((function(e){return e.userProfile===s})),k=function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={text:_,post:c},e.next=4,b(B());case 4:return e.next=6,b(J(n));case 6:return e.next=8,b(E());case 8:g("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:c,title:i,current:j,new:o},e.next=3,b(B());case 3:return e.next=5,b(T(t));case 5:return e.next=7,b(E());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i?Object(he.jsxs)("div",{className:Se.a.post,children:[Object(he.jsxs)("div",{className:Se.a.post_header,children:[Object(he.jsx)(we.a,{className:Se.a.post_avatar,src:null===(t=w[0])||void 0===t?void 0:t.img}),Object(he.jsx)("h3",{children:null===(n=w[0])||void 0===n?void 0:n.nickName})]}),Object(he.jsx)("img",{className:Se.a.post_image,src:u,alt:""}),Object(he.jsxs)("h4",{className:Se.a.post_text,children:[Object(he.jsx)(Ae.a,{className:Se.a.post_checkBox,icon:Object(he.jsx)(Ie.a,{}),checkedIcon:Object(he.jsx)(Je.a,{}),checked:j.some((function(e){return e===o})),onChange:y}),Object(he.jsxs)("strong",{children:[" ",null===(r=w[0])||void 0===r?void 0:r.nickName]})," ",i,Object(he.jsx)(We.a,{max:7,children:j.map((function(e){var t;return Object(he.jsx)(we.a,{className:Se.a.post_avatarGroup,src:null===(t=h.find((function(t){return t.userProfile===e})))||void 0===t?void 0:t.img},e)}))})]}),Object(he.jsx)(Te.a,{}),Object(he.jsx)("div",{className:Se.a.post_comments,children:v.map((function(e){var t,n;return Object(he.jsxs)("div",{className:Se.a.post_comment,children:[Object(he.jsx)(we.a,{src:null===(t=h.find((function(t){return t.userProfile===e.userComment})))||void 0===t?void 0:t.img,className:f.small}),Object(he.jsxs)("p",{children:[Object(he.jsx)("strong",{className:Se.a.post_strong,children:null===(n=h.find((function(t){return t.userProfile===e.userComment})))||void 0===n?void 0:n.nickName}),e.text]})]},e.id)}))}),Object(he.jsxs)("form",{className:Se.a.post_commentBox,children:[Object(he.jsx)("input",{className:Se.a.post_input,type:"text",placeholder:"add a comment",value:_,onChange:function(e){return g(e.target.value)}}),Object(he.jsx)("button",{disabled:!_.length,className:Se.a.post_button,type:"submit",onClick:k,children:"Post"})]})]}):null},Ee=n(315),Le={content:{top:"55%",left:"50%",width:280,height:220,padding:"50px",transform:"translate(-50%, -50%)"}},qe=function(){var e=Object(d.b)(),t=Object(d.c)(de),n=Object(d.c)(je),r=Object(a.useState)(null),c=Object(Ne.a)(r,2),o=c[0],s=c[1],i=function(){var t=Object(p.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r={id:n.id,nickName:n.nickName,img:o},t.next=4,e(ee());case 4:return t.next=6,e(Z(r));case 6:return t.next=8,e(te());case 8:return t.next=10,e(se());case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)(h.a,{isOpen:t,onRequestClose:Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(se());case 2:case"end":return t.stop()}}),t)}))),style:Le,children:Object(he.jsxs)("form",{className:_e.a.core_signUp,children:[Object(he.jsx)("h1",{className:_e.a.core_title,children:"SNS clone"}),Object(he.jsx)("br",{}),Object(he.jsx)(_.a,{placeholder:"nickname",type:"text",value:null===n||void 0===n?void 0:n.nickName,onChange:function(t){return e(ie(t.target.value))}}),Object(he.jsx)("input",{type:"file",id:"imageInput",hidden:!0,onChange:function(e){return s(e.target.files[0])}}),Object(he.jsx)("br",{}),Object(he.jsx)(Ee.a,{onClick:function(){var e=document.getElementById("imageInput");null===e||void 0===e||e.click()},children:Object(he.jsx)(ye.a,{})}),Object(he.jsx)("br",{}),Object(he.jsx)(g.a,{disabled:!(null===n||void 0===n?void 0:n.nickName),variant:"contained",color:"primary",type:"submit",onClick:i,children:"Update"})]})})})},ze={content:{top:"55%",left:"50%",width:280,height:220,padding:"50px",transform:"translate(-50%, -50%)"}},Re=function(){var e=Object(d.b)(),t=Object(d.c)(R),n=Object(a.useState)(null),r=Object(Ne.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)(""),i=Object(Ne.a)(s,2),u=i[0],j=i[1],f=function(){var t=Object(p.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={title:u,img:c},t.next=4,e(B());case 4:return t.next=6,e(A(a));case 6:return t.next=8,e(E());case 8:j(""),o(null),e(q());case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(he.jsx)(he.Fragment,{children:Object(he.jsx)(h.a,{isOpen:t,onRequestClose:Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(q());case 2:case"end":return t.stop()}}),t)}))),style:ze,children:Object(he.jsxs)("form",{className:_e.a.core_signUp,children:[Object(he.jsx)("h1",{className:_e.a.core_title,children:"Q3 SNS"}),Object(he.jsx)("br",{}),Object(he.jsx)(_.a,{placeholder:"Please enter caption",type:"text",onChange:function(e){return j(e.target.value)}}),Object(he.jsx)("input",{type:"file",id:"imageInput",hidden:!0,onChange:function(e){return o(e.target.files[0])}}),Object(he.jsx)("br",{}),Object(he.jsx)(Ee.a,{onClick:function(){var e=document.getElementById("imageInput");null===e||void 0===e||e.click()},children:Object(he.jsx)(ye.a,{})}),Object(he.jsx)("br",{}),Object(he.jsx)(g.a,{disabled:!u||!c,variant:"contained",color:"primary",onClick:f,children:"New post"})]})})})},Fe=Object(ge.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(ve.a),Ge=function(){var e=Object(d.b)(),t=Object(d.c)(je),n=Object(d.c)(F),r=Object(d.c)(z),c=Object(d.c)(ue);return Object(a.useEffect)((function(){var t=function(){var t=Object(p.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.localJWT){t.next=14;break}return e(ae()),t.next=4,e(X());case 4:if(n=t.sent,!X.rejected.match(n)){t.next=8;break}return e(ne()),t.abrupt("return",null);case 8:return t.next=10,e(P());case 10:return t.next=12,e($());case 12:return t.next=14,e(I());case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(he.jsxs)("div",{children:[Object(he.jsx)(xe,{}),Object(he.jsx)(qe,{}),Object(he.jsx)(Re,{}),Object(he.jsxs)("div",{className:_e.a.core_header,children:[Object(he.jsx)("h1",{className:_e.a.core_title,children:"Q3 SNS"}),(null===t||void 0===t?void 0:t.nickName)?Object(he.jsxs)(he.Fragment,{children:[Object(he.jsx)("button",{className:_e.a.core_btnModal,onClick:function(){e(L()),e(se())},children:Object(he.jsx)(ye.a,{})}),Object(he.jsxs)("div",{className:_e.a.core_logout,children:[(r||c)&&Object(he.jsx)(O.a,{}),Object(he.jsx)(g.a,{onClick:function(){localStorage.removeItem("localJWT"),e(ie("")),e(se()),e(q()),e(ne())},children:"Logout"}),Object(he.jsx)("button",{className:_e.a.core_btnModal,onClick:function(){e(oe()),e(q())},children:Object(he.jsxs)(Fe,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:[Object(he.jsx)(we.a,{alt:"who?",src:t.img})," "]})})]})]}):Object(he.jsxs)("div",{children:[Object(he.jsx)(g.a,{onClick:function(){e(ne()),e(ce())},children:"LogIn"}),Object(he.jsx)(g.a,{onClick:function(){e(re()),e(ae())},children:"SignUp"})]})]}),(null===t||void 0===t?void 0:t.nickName)&&Object(he.jsx)(he.Fragment,{children:Object(he.jsx)("div",{className:_e.a.core_posts,children:Object(he.jsx)(ke.a,{container:!0,spacing:4,children:n.slice(0).reverse().map((function(e){return Object(he.jsx)(ke.a,{item:!0,xs:12,md:4,children:Object(he.jsx)(Be,{postId:e.id,title:e.title,loginId:t.userProfile,userPost:e.userPost,imageUrl:e.img,liked:e.liked})},e.id)}))})})})]})};var Me=function(){return Object(he.jsx)("div",{className:i.a.app,children:Object(he.jsx)(Ge,{})})},Ve=Object(k.a)({reducer:{auth:be,post:M}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(he.jsx)(r.a.StrictMode,{children:Object(he.jsx)(d.a,{store:Ve,children:Object(he.jsx)(Me,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[276,1,2]]]);
//# sourceMappingURL=main.bb4102c9.chunk.js.map